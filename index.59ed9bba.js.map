{"mappings":"iiBAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,SAEME,EAAiB,4CAGjBC,EAAUC,SAASC,cAAc,kBACrBD,SAASC,cAAc,qBAEzCF,EAAQG,iBAAiB,SAMzB,SAAoBC,GAClBC,EAAQD,EAAEE,OAAOC,MAAMC,OAEvB,IAAMC,EAAsB,IAAIC,gBAAgB,CAC9CC,QAAS,mCACTC,MAAOP,EACPQ,KAAM,IAGRC,EADY,GAAqBC,OAAlBhB,EAAe,KAAuBgB,OAApBN,IAE9BO,MAAK,SAAAC,GACWA,EAAUC,cACzBC,QAAQC,IAAIH,IACZ,EAAAnB,EAAAuB,cAAaJ,E,IAEdK,OAAM,SAAAC,GACLJ,QAAQC,IAAIG,E,OApBlB,IAAIlB,EAAQ,GA0CZ,SAASS,EAAWU,GAClB,OAAOC,MAAMD,GAAKR,MAAK,SAAAU,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IC1DpB,IAAAC,EAAAlC,EAAA,S,8EAQEmC,G,aAAS,IAAAC,SACTC,EAAQ,IAAAD,QAmBJE,EAAmB,IADzB,W,sBApBOC,I,aACLC,EAAAC,EAAA,CAAAC,KAAAP,EAAS,C,kBAAG,kCACZK,EAAAC,EAAA,CAAAC,KAAAL,EAAQ,C,kBAAG,qCAGTK,KAAK1B,KAAO,C,iBAGR2B,IAAA,c,MAAN,W,kBAAAH,EAAAN,EAAA,CAAAM,EAAAI,GAAAC,MAAA,SAAAC,I,2FAEiBC,EAAAC,QAAMC,IAAI,GAAC/B,OAAAsB,EAAAU,EAAA,CAAAC,EAAQhB,GAAS,gCAA4CjB,OAAAsB,EAAAU,EAAA,CAAAC,EAARd,K,+CAE7E,M,yBAAM,IAAIN,MAAMqB,EAAAC,GAAIC,S,uDAJxB,E,OAYF,IAiBAC,OAAOjD,iBAAiB,QAdE,WAExBgC,EACCkB,cACArC,MAAK,SAAAsC,G,IAAEC,EAAID,EAAJC,MAEV,EAAAzD,EAAAuB,cAAakC,E,IAGRjC,OAAM,SAAAkC,GACPrC,QAAQC,IAAIoC,E","sources":["src/index.js","src/pagination.js","src/popular-movies.js"],"sourcesContent":["import './spinner.js';\nimport './fetchFilms.js';\nimport './pagination.js';\nimport './popular-movies.js';\nimport './modal-team.js'\n\n// import './js/render-markup.js';\n\n","// import { fetchFilms } from './fetchFilms.js';\nimport { renderMarkup } from './js/render-markup';\nconst BASE_URL_TRENDS = 'https://api.themoviedb.org/3/trending/all/day';\nconst BASE_URL_QUERY = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n\nconst inputEl = document.querySelector('.search__input');\nconst spinnerEl = document.querySelector('.preloader__image');\n\ninputEl.addEventListener('input', inputQuery);\n\nlet value = '';\n// в totalResults буде записана загальна кількість об’єктів які прийшли з бекенду щоб розрахувати кількість сторінок\nlet totalResults = 0;\n\nfunction inputQuery(e) {\n  value = e.target.value.trim();\n\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: 1,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      totalResults = forMarcup.total_results;\n      console.log(forMarcup)\n      renderMarkup(forMarcup);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n// <----------функція яка викликається при натисканні на кнопки пагінації \n// в count має передаватися номер сторінки яка має бути завантажена і намальована------->\nfunction moreFilms(count){\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: count,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n    \n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n\nfunction fetchFilms(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n\n// <----------------->\n\n// const paginationContainer = document.querySelector('.pagination');\n// const paginationButtons =\n//   paginationContainer.querySelectorAll('.pagination-btn');\n// const previousButton = paginationContainer.querySelector('.previous-btn');\n// const nextButton = paginationContainer.querySelector('.next-btn');\n// const endButton = paginationContainer.querySelector('.end-btn');\n// const nextDotsButton = paginationContainer.querySelector('.next-dots');\n\n// let currentPage = 1;\n// const totalPages = paginationButtons.length - 2;\n\n// function displayCurrentPage() {\n//   paginationButtons.forEach(button => {\n//     button.classList.remove('active-pagination');\n//     if (button.innerText == currentPage) {\n//       button.classList.add('active-pagination');\n//     }\n//   });\n// }\n\n// paginationButtons.forEach(button => {\n//   button.addEventListener('click', () => {\n//     if (button.innerText != '...' && currentPage != button.innerText) {\n//       currentPage = parseInt(button.innerText);\n//       displayCurrentPage();\n//     }\n//   });\n// });\n\n// previousButton.addEventListener('click', () => {\n//   if (currentPage > 1) {\n//     currentPage--;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextButton.addEventListener('click', () => {\n//   if (currentPage < totalPages) {\n//     currentPage++;\n//     displayCurrentPage();\n//   }\n// });\n\n// endButton.addEventListener('click', () => {\n//   if (currentPage != totalPages) {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextDotsButton.addEventListener('click', () => {\n//   if (currentPage < totalPages - 2) {\n//     currentPage += 3;\n//     displayCurrentPage();\n//   } else {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n","import axios from 'axios';\n// import { createCardsGallery } from './createCardGallery'; поміняти\n\n// const galleryEl = document.querySelector('.gallery'); замінити\nimport { renderMarkup } from './js/render-markup';\n\n\n class APIpopular {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n \n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchMovies() {\n    try {\n      return await axios.get(`${this.#BASE_URL}trending/movie/week?api_key=${this.#API_KEY}`);\n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n\n\n\n\n\nconst ApipopularMovies = new APIpopular();\n\nconst handlerLoadWindow = () =>{\n\n  ApipopularMovies\n  .fetchMovies()\n  .then(({data})=>{\n// console.log(data)\nrenderMarkup(data);\n// поміняти \n// galleryEl.innerHTML = createCardsGallery(data.results);\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\nwindow.addEventListener('load', handlerLoadWindow)"],"names":["parcelRequire","$7VSht","$a05c08abba1959c4$var$BASE_URL_QUERY","$a05c08abba1959c4$var$inputEl","document","querySelector","addEventListener","e","$a05c08abba1959c4$var$value","target","value","trim","searchParamsToQuery","URLSearchParams","api_key","query","page","$a05c08abba1959c4$var$fetchFilms","concat","then","forMarcup","total_results","console","log","renderMarkup","catch","er","url","fetch","response","ok","Error","status","json","$bpxeT","$4164fd5cb8db3dd7$var$_BASE_URL","WeakMap","$4164fd5cb8db3dd7$var$_API_KEY","$4164fd5cb8db3dd7$var$ApipopularMovies","APIpopular","$parcel$interopDefault","$8MQK7","this","key","$2TvXO","mark","_callee","$dIxxU","default","get","$4KMWL","_this","_ctx","t0","message","window","fetchMovies","param","data","err"],"version":3,"file":"index.59ed9bba.js.map"}