{"mappings":"YACA,IACMA,EAAiB,4CAGjBC,EAAUC,SAASC,cAAc,kBACrBD,SAASC,cAAc,qBAEzCF,EAAQG,iBAAiB,SAMzB,SAAoBC,GAClBC,EAAQD,EAAEE,OAAOC,MAAMC,OAEvB,IAAMC,EAAsB,IAAIC,gBAAgB,CAC9CC,QAAS,mCACTC,MAAOP,EACPQ,KAAM,IAGRC,EADY,GAAqBC,OAAlBhB,EAAe,KAAuBgB,OAApBN,IAE9BO,MAAK,SAAAC,GACWA,EAAUC,a,IAG1BC,OAAM,SAAAC,GACLC,QAAQC,IAAIF,E,OAnBlB,IAAIf,EAAQ,GAyCZ,SAASS,EAAWS,GAClB,OAAOC,MAAMD,GAAKP,MAAK,SAAAS,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,IAOpB,IAAMC,EAAsB7B,SAASC,cAAc,eAC7C6B,EACJD,EAAoBE,iBAAiB,mBACjCC,EAAiBH,EAAoB5B,cAAc,iBACnDgC,EAAaJ,EAAoB5B,cAAc,aAC/CiC,EAAYL,EAAoB5B,cAAc,YAC9CkC,EAAiBN,EAAoB5B,cAAc,cAErDmC,EAAc,EACZC,EAAaP,EAAkBQ,OAAS,EAE9C,SAASC,IACPT,EAAkBU,SAAQ,SAAAC,GACxBA,EAAOC,UAAUC,OAAO,qBACpBF,EAAOG,WAAaR,GACtBK,EAAOC,UAAUG,IAAI,oB,IAK3Bf,EAAkBU,SAAQ,SAAAC,GACxBA,EAAOvC,iBAAiB,SAAS,WACP,OAApBuC,EAAOG,WAAsBR,GAAeK,EAAOG,YACrDR,EAAcU,SAASL,EAAOG,WAC9BL,I,OAKNP,EAAe9B,iBAAiB,SAAS,WACnCkC,EAAc,IAChBA,IACAG,I,IAIJN,EAAW/B,iBAAiB,SAAS,WAC/BkC,EAAcC,IAChBD,IACAG,I,IAIJL,EAAUhC,iBAAiB,SAAS,WAC9BkC,GAAeC,IACjBD,EAAcC,EACdE,I,IAIJJ,EAAejC,iBAAiB,SAAS,WACnCkC,EAAcC,EAAa,GAC7BD,GAAe,EACfG,MAEAH,EAAcC,EACdE,I","sources":["src/pagination.js"],"sourcesContent":["// import { fetchFilms } from './fetchFilms.js';\nconst BASE_URL_TRENDS = 'https://api.themoviedb.org/3/trending/all/day';\nconst BASE_URL_QUERY = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n\nconst inputEl = document.querySelector('.search__input');\nconst spinnerEl = document.querySelector('.preloader__image');\n\ninputEl.addEventListener('input', inputQuery);\n\nlet value = '';\n// в totalResults буде записана загальна кількість об’єктів які прийшли з бекенду щоб розрахувати кількість сторінок\nlet totalResults = 0;\n\nfunction inputQuery(e) {\n  value = e.target.value.trim();\n\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: 1,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      totalResults = forMarcup.total_results;\n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n// <----------функція яка викликається при натисканні на кнопки пагінації \n// в count має передаватися номер сторінки яка має бути завантажена і намальована------->\nfunction moreFilms(count){\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: count,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n    \n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n\nfunction fetchFilms(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n\n// <----------------->\n\nconst paginationContainer = document.querySelector('.pagination');\nconst paginationButtons =\n  paginationContainer.querySelectorAll('.pagination-btn');\nconst previousButton = paginationContainer.querySelector('.previous-btn');\nconst nextButton = paginationContainer.querySelector('.next-btn');\nconst endButton = paginationContainer.querySelector('.end-btn');\nconst nextDotsButton = paginationContainer.querySelector('.next-dots');\n\nlet currentPage = 1;\nconst totalPages = paginationButtons.length - 2;\n\nfunction displayCurrentPage() {\n  paginationButtons.forEach(button => {\n    button.classList.remove('active-pagination');\n    if (button.innerText == currentPage) {\n      button.classList.add('active-pagination');\n    }\n  });\n}\n\npaginationButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    if (button.innerText != '...' && currentPage != button.innerText) {\n      currentPage = parseInt(button.innerText);\n      displayCurrentPage();\n    }\n  });\n});\n\npreviousButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayCurrentPage();\n  }\n});\n\nnextButton.addEventListener('click', () => {\n  if (currentPage < totalPages) {\n    currentPage++;\n    displayCurrentPage();\n  }\n});\n\nendButton.addEventListener('click', () => {\n  if (currentPage != totalPages) {\n    currentPage = totalPages;\n    displayCurrentPage();\n  }\n});\n\nnextDotsButton.addEventListener('click', () => {\n  if (currentPage < totalPages - 2) {\n    currentPage += 3;\n    displayCurrentPage();\n  } else {\n    currentPage = totalPages;\n    displayCurrentPage();\n  }\n});\n"],"names":["$a05c08abba1959c4$var$BASE_URL_QUERY","$a05c08abba1959c4$var$inputEl","document","querySelector","addEventListener","e","$a05c08abba1959c4$var$value","target","value","trim","searchParamsToQuery","URLSearchParams","api_key","query","page","$a05c08abba1959c4$var$fetchFilms","concat","then","forMarcup","total_results","catch","er","console","log","url","fetch","response","ok","Error","status","json","$a05c08abba1959c4$var$paginationContainer","$a05c08abba1959c4$var$paginationButtons","querySelectorAll","$a05c08abba1959c4$var$previousButton","$a05c08abba1959c4$var$nextButton","$a05c08abba1959c4$var$endButton","$a05c08abba1959c4$var$nextDotsButton","$a05c08abba1959c4$var$currentPage","$a05c08abba1959c4$var$totalPages","length","$a05c08abba1959c4$var$displayCurrentPage","forEach","button","classList","remove","innerText","add","parseInt"],"version":3,"file":"index.41b950b9.js.map"}