{"mappings":"qhBAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,SCDe,SAAAE,EAAoBC,GACjC,MAAMC,EAAaC,SAASC,cAAc,iBACpCC,EAAQF,SAASC,cAAc,UACrC,OAAe,IAAXH,GACMI,EAAMC,UAAUC,OAAQ,aACzBL,EAAWI,UAAUC,OAAO,eAGrCF,EAAMC,UAAUE,IAAK,aACdN,EAAWI,UAAUE,IAAI,a,CDLlC,MAIMC,EAASN,SAASC,cAAc,WAEhCM,GADYP,SAASC,cAAc,qBACtBD,SAASC,cAAc,kBAE1CK,EAAOE,iBAAiB,UAMxB,SAAoBC,GAIlB,GAHAA,EAAEC,iBACFC,EAAQA,EAAQF,EAAEG,cAAcC,OAAOC,MAAMC,OAE/B,KAAVJ,EACF,OAAOJ,EAAWJ,UAAUE,IAAI,aAGlC,MAAMW,EAAsB,IAAIC,gBAAgB,CAC9CC,QAAS,mCACTC,MAAOR,EACPS,KAAM,IAGRC,EADY,6CAAqBL,KAE9BM,MAAKC,IACJC,EAAeD,EAAUE,cACzBC,QAAQC,IAAIJ,IACZ,EAAA3B,EAAAgC,cAAaL,GACb1B,EAAW2B,EAAa,IAIzBK,OAAMC,IACLJ,QAAQC,IAAIG,EAAG,G,IA5BrB,IAAInB,EAAQ,GAERa,EAAe,EA+CnB,SAASH,EAAWU,GAClB,OAAOC,MAAMD,GAAKT,MAAKW,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CEpE1B,IAAAC,EAAA3C,EAAA,S,0BAQE4C,G,aAAS,IAAAC,SACTC,EAAQ,IAAAD,QAmBV,MAAME,EAAmB,IArBxB,MAQCC,oBACE,IACE,aAAaC,EAAAC,QAAMC,IAAI,GAACC,EAAAT,EAAA,CAAEU,KAAMT,iCAAqCQ,EAAAT,EAAA,CAAEU,KAAMP,K,CAC7E,MAAOQ,GACP,MAAM,IAAId,MAAMc,EAAIC,Q,EARxBC,cAHAJ,EAAAK,EAAA,CAAAJ,KAAAT,EAAS,C,kBAAG,kCACZQ,EAAAK,EAAA,CAAAJ,KAAAP,EAAQ,C,kBAAG,qCAGTO,KAAK5B,KAAO,C,GAgChBiC,OAAO7C,iBAAiB,QAdE,KAExBkC,EACCY,cACAhC,MAAK,EAACiC,KAACA,OAEV,EAAA3D,EAAAgC,cAAa2B,EAAK,IAGb1B,OAAMoB,IACPvB,QAAQC,IAAIsB,EAAI,GAChB,I","sources":["src/index.js","src/js/pagination.js","src/js/input-error.js","src/js/popular-movies.js"],"sourcesContent":["import './js/spinner.js';\nimport './js/fetchFilms.js';\nimport './js/pagination.js';\nimport './js/popular-movies.js';\nimport './js/modal-team.js'\nimport './js/modal-about-movie.js'\n\n// import './js/render-markup.js';\n\n","// import { fetchFilms } from './fetchFilms.js';\nimport { renderMarkup } from './render-markup';\nimport inputError from './input-error';\n\nconst BASE_URL_TRENDS = 'https://api.themoviedb.org/3/trending/all/day';\nconst BASE_URL_QUERY = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n\nconst formEl = document.querySelector('.search');\nconst spinnerEl = document.querySelector('.preloader__image');\nconst inputErrEl = document.querySelector('.error-input ');\n\nformEl.addEventListener('submit', inputQuery);\n\nlet value = '';\n// в totalResults буде записана загальна кількість об’єктів які прийшли з бекенду щоб розрахувати кількість сторінок\nlet totalResults = 0;\n\nfunction inputQuery(e) {\n  e.preventDefault()\n  value = value = e.currentTarget.search.value.trim();\n\n  if (value === '') {\n    return inputErrEl.classList.add('is-hidden');\n  }\n\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: 1,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      totalResults = forMarcup.total_results;\n      console.log(forMarcup)\n      renderMarkup(forMarcup);\n      inputError(totalResults);\n\n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n// <----------функція яка викликається при натисканні на кнопки пагінації\n// в count має передаватися номер сторінки яка має бути завантажена і намальована------->\nfunction moreFilms(count) {\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: count,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n\nfunction fetchFilms(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n// <----------------->\n\n// const paginationContainer = document.querySelector('.pagination');\n// const paginationButtons =\n//   paginationContainer.querySelectorAll('.pagination-btn');\n// const previousButton = paginationContainer.querySelector('.previous-btn');\n// const nextButton = paginationContainer.querySelector('.next-btn');\n// const endButton = paginationContainer.querySelector('.end-btn');\n// const nextDotsButton = paginationContainer.querySelector('.next-dots');\n\n// let currentPage = 1;\n// const totalPages = paginationButtons.length - 2;\n\n// function displayCurrentPage() {\n//   paginationButtons.forEach(button => {\n//     button.classList.remove('active-pagination');\n//     if (button.innerText == currentPage) {\n//       button.classList.add('active-pagination');\n//     }\n//   });\n// }\n\n// paginationButtons.forEach(button => {\n//   button.addEventListener('click', () => {\n//     if (button.innerText != '...' && currentPage != button.innerText) {\n//       currentPage = parseInt(button.innerText);\n//       displayCurrentPage();\n//     }\n//   });\n// });\n\n// previousButton.addEventListener('click', () => {\n//   if (currentPage > 1) {\n//     currentPage--;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextButton.addEventListener('click', () => {\n//   if (currentPage < totalPages) {\n//     currentPage++;\n//     displayCurrentPage();\n//   }\n// });\n\n// endButton.addEventListener('click', () => {\n//   if (currentPage != totalPages) {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextDotsButton.addEventListener('click', () => {\n//   if (currentPage < totalPages - 2) {\n//     currentPage += 3;\n//     displayCurrentPage();\n//   } else {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n\n// const paginationContainer = document.querySelector('.pagination');\n// const paginationButtons =\n//   paginationContainer.querySelectorAll('.pagination-btn');\n// const nextButton = paginationContainer.querySelector('.next-btn');\n// const endButton = paginationContainer.querySelector('.end-btn');\n// const nextDotsButton = paginationContainer.querySelector('.next-dots');\n\n// let currentPage = 1;\n// const totalPages = paginationButtons.length - 2;\n\n// const paginationMarkup = () => {\n//   if (state.totalPages <= 1) return;\n//   const { pages, hasPrevGroup, hasNextGroup } = paginate(\n//     state.totalPages,\n//     state.currentPage\n//   );\n//   const firstPage = `<button type=\"button\" class=\"start-btn pagination-btn\">1</button>`;\n//   const lastPage = `<button type=\"button\" class=\"end-btn pagination-btn\">${state.totalPages}</button>`;\n//   const prev = `<button type=\"button\" class=\"pagination-btn\"></button>`;\n//   const next = `<button type=\"button\" class=\"next-btn pagination-btn\"></button>`;\n//   const dotsBtnPrev = `<button class=\"pagination-btn\">...</button>`;\n//   const dotsBtnNext = `<button class=\"pagination-btn next-dots\">...</button>`;\n//   const btnPages = pages\n//     .map(num => {\n//       const isActive = num === state.currentPage ? 'active-pagination' : '';\n//       return `<button type=\"button\" class=\"pagination-btn ${isActive}\n//         \">${num}</button>`;\n//     })\n//     .join('');\n//   const leftGroup = hasPrevGroup ? prev + firstPage + dotsBtnPrev : '';\n//   const rightGroup = hasNextGroup ? dotsBtnNext + lastPage + next : '';\n//   return leftGroup + btnPages + rightGroup;\n// };\n\n// const updateCurrentPage = newPage => {\n//   state.currentPage = newPage;\n//   clearPagination();\n\n//   renderPaginationMarkup();\n// };\n\n// const goToNextPage = () => {\n//   updateCurrentPage(state.currentPage + 1);\n// };\n// const goToPrevPage = () => {\n//   updateCurrentPage(state.currentPage - 1);\n// };\n// const goToNextGroupBtn = () => {\n//   const { pages } = paginate(state.totalPages, state.currentPage);\n//   const lastPageOfCurrentGroup = pages[pages.length - 1];\n//   const newPage = Math.min(lastPageOfCurrentGroup + 1, state.totalPages);\n//   state.currentPage = pages[pages.length - 1] + 1;\n//   updateCurrentPage(newPage);\n// };\n// const goToPrevGroupBtn = () => {\n//   const { pages } = paginate(state.totalPages, state.currentPage);\n//   const firstPageOfCurrentGroup = pages[0];\n//   const newPage = Math.max(firstPageOfCurrentGroup - 1, 1);\n//   updateCurrentPage(newPage);\n// };\n// const changePageByClick = evt => {\n//   const activeBtn = document.querySelector('.active-pagination');\n//   const selectedPage = Number(evt.target.textContent) || state.currentPage;\n//   if (selectedPage === state.currentPage) return;\n\n//   updateCurrentPage(selectedPage);\n//   activeBtn.classList.remove('active-pagination');\n//   evt.target.classList.add('active-pagination');\n// };\n\n// function displayCurrentPage() {\n//   paginationButtons.forEach(button => {\n//     button.classList.remove('active-pagination');\n//     if (button.innerText == currentPage) {\n//       button.classList.add('active-pagination');\n//     }\n//   });\n// }\n\n// paginationButtons.forEach(button => {\n//   button.addEventListener('click', () => {\n//     if (button.innerText != '...' && currentPage != button.innerText) {\n//       currentPage = parseInt(button.innerText);\n//       displayCurrentPage();\n//     }\n//   });\n// });\n\n// previousButton.addEventListener('click', () => {\n//   if (currentPage > 1) {\n//     currentPage--;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextButton.addEventListener('click', () => {\n//   if (currentPage < totalPages) {\n//     currentPage++;\n//     displayCurrentPage();\n//   }\n// });\n\n// endButton.addEventListener('click', () => {\n//   if (currentPage != totalPages) {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextDotsButton.addEventListener('click', () => {\n//   if (currentPage < totalPages - 2) {\n//     currentPage += 3;\n//     displayCurrentPage();\n//   } else {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n// const onBtnPageClick = async evt => {\n//   if (evt.target.nodeName !== 'BUTTON') return;\n//   if (Number(evt.target.textContent) === state.currentPage) return;\n//   if (evt.target.classList.contains('next-btn')) goToNextPage();\n//   if (evt.target.classList.contains('next-dots')) goToNextGroupBtn();\n//   if (evt.target.classList.contains('prev-dots')) goToPrevGroupBtn();\n//   changePageByClick(evt);\n//   window.scrollTo({\n//     top: 0,\n//   });\n//   moviesEl.innerHTML = '';\n//   whatPaginated(state.whatPaginated);\n// };\n","export default function inputError(result) {\n  const inputErrEl = document.querySelector('.error-input ');\n  const imgEl = document.querySelector('.start')\n  if (result === 0) {\n            imgEl.classList.remove ('is-hidden');\n    return inputErrEl.classList.remove('is-hidden');\n\n  }\n  imgEl.classList.add ('is-hidden');\n  return inputErrEl.classList.add('is-hidden');\n}\n","import axios from 'axios';\n// import { createCardsGallery } from './createCardGallery'; поміняти\n\n// const galleryEl = document.querySelector('.gallery'); замінити\nimport { renderMarkup } from './render-markup';\n\n\n class APIpopular {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n \n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchMovies() {\n    try {\n      return await axios.get(`${this.#BASE_URL}trending/movie/week?api_key=${this.#API_KEY}`);\n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n\n\n\n\n\nconst ApipopularMovies = new APIpopular();\n\nconst handlerLoadWindow = () =>{\n\n  ApipopularMovies\n  .fetchMovies()\n  .then(({data})=>{\n// console.log(data)\nrenderMarkup(data);\n// поміняти \n// galleryEl.innerHTML = createCardsGallery(data.results);\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\nwindow.addEventListener('load', handlerLoadWindow)"],"names":["parcelRequire","$5o68A","$745fb145c0e867ef$export$2e2bcd8739ae039","result","inputErrEl","document","querySelector","imgEl","classList","remove","add","$1bab9c519cfa82bc$var$formEl","$1bab9c519cfa82bc$var$inputErrEl","addEventListener","e","preventDefault","$1bab9c519cfa82bc$var$value","currentTarget","search","value","trim","searchParamsToQuery","URLSearchParams","api_key","query","page","$1bab9c519cfa82bc$var$fetchFilms","then","forMarcup","$1bab9c519cfa82bc$var$totalResults","total_results","console","log","renderMarkup","catch","er","url","fetch","response","ok","Error","status","json","$jkMrE","$8273903e8e1b654d$var$_BASE_URL","WeakMap","$8273903e8e1b654d$var$_API_KEY","$8273903e8e1b654d$var$ApipopularMovies","async","$2shzp","default","get","$parcel$interopDefault","this","err","message","constructor","$g6yUq","window","fetchMovies","data"],"version":3,"file":"index.3ef47f31.js.map"}