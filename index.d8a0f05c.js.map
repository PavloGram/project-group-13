{"mappings":"YACA,IAIMA,EAAUC,SAASC,cAAc,kBACrBD,SAASC,cAAc,qBAEzCF,EAAQG,iBAAiB,SAIzB,SAAoBC,GAClBC,EAAQD,EAAEE,OAAOC,MAAMC,OAEvB,IAAMC,EAAsB,IAAIC,gBAAgB,CAC9CC,QAAS,mCACTC,MAAOP,EACPQ,KATc,KAqBlB,SAAoBC,GAClB,OAAOC,MAAMD,GAAKE,MAAK,SAAAC,GACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,M,KAdlBC,CADY,GAAqBC,OAlBZ,4CAkBS,KAAuBA,OAApBd,IAE9BO,MAAK,SAAAQ,GACJ,OAAOC,QAAQC,IAAIF,E,IAEpBG,OAAM,SAAAC,GACLH,QAAQC,IAAIE,E,OAjBlB,IACIvB,EAAQ,GA6BZ,IAAMwB,EAAsB5B,SAASC,cAAc,eAC7C4B,EACJD,EAAoBE,iBAAiB,mBACjCC,EAAiBH,EAAoB3B,cAAc,iBACnD+B,EAAaJ,EAAoB3B,cAAc,aAC/CgC,EAAYL,EAAoB3B,cAAc,YAC9CiC,EAAiBN,EAAoB3B,cAAc,cAErDkC,EAAc,EACZC,EAAaP,EAAkBQ,OAAS,EAE9C,SAASC,IACPT,EAAkBU,SAAQ,SAAAC,GACxBA,EAAOC,UAAUC,OAAO,qBACpBF,EAAOG,WAAaR,GACtBK,EAAOC,UAAUG,IAAI,oB,IAK3Bf,EAAkBU,SAAQ,SAAAC,GACxBA,EAAOtC,iBAAiB,SAAS,WACP,OAApBsC,EAAOG,WAAsBR,GAAeK,EAAOG,YACrDR,EAAcU,SAASL,EAAOG,WAC9BL,I,OAKNP,EAAe7B,iBAAiB,SAAS,WACnCiC,EAAc,IAChBA,IACAG,I,IAIJN,EAAW9B,iBAAiB,SAAS,WAC/BiC,EAAcC,IAChBD,IACAG,I,IAIJL,EAAU/B,iBAAiB,SAAS,WAC9BiC,GAAeC,IACjBD,EAAcC,EACdE,I,IAIJJ,EAAehC,iBAAiB,SAAS,WACnCiC,EAAcC,EAAa,GAC7BD,GAAe,EACfG,MAEAH,EAAcC,EACdE,I","sources":["src/pagination.js"],"sourcesContent":["// import { fetchFilms } from './fetchFilms.js';\nconst BASE_URL_TRENDS = 'https://api.themoviedb.org/3/trending/all/day';\nconst BASE_URL_QUERY = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n\nconst inputEl = document.querySelector('.search__input');\nconst spinnerEl = document.querySelector('.preloader__image');\n\ninputEl.addEventListener('input', inputQuery);\nlet pageCounter = 1;\nlet value = '';\n\nfunction inputQuery(e) {\n  value = e.target.value.trim();\n\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: pageCounter,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      return console.log(forMarcup);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n\nfunction fetchFilms(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nconst paginationContainer = document.querySelector('.pagination');\nconst paginationButtons =\n  paginationContainer.querySelectorAll('.pagination-btn');\nconst previousButton = paginationContainer.querySelector('.previous-btn');\nconst nextButton = paginationContainer.querySelector('.next-btn');\nconst endButton = paginationContainer.querySelector('.end-btn');\nconst nextDotsButton = paginationContainer.querySelector('.next-dots');\n\nlet currentPage = 1;\nconst totalPages = paginationButtons.length - 2;\n\nfunction displayCurrentPage() {\n  paginationButtons.forEach(button => {\n    button.classList.remove('active-pagination');\n    if (button.innerText == currentPage) {\n      button.classList.add('active-pagination');\n    }\n  });\n}\n\npaginationButtons.forEach(button => {\n  button.addEventListener('click', () => {\n    if (button.innerText != '...' && currentPage != button.innerText) {\n      currentPage = parseInt(button.innerText);\n      displayCurrentPage();\n    }\n  });\n});\n\npreviousButton.addEventListener('click', () => {\n  if (currentPage > 1) {\n    currentPage--;\n    displayCurrentPage();\n  }\n});\n\nnextButton.addEventListener('click', () => {\n  if (currentPage < totalPages) {\n    currentPage++;\n    displayCurrentPage();\n  }\n});\n\nendButton.addEventListener('click', () => {\n  if (currentPage != totalPages) {\n    currentPage = totalPages;\n    displayCurrentPage();\n  }\n});\n\nnextDotsButton.addEventListener('click', () => {\n  if (currentPage < totalPages - 2) {\n    currentPage += 3;\n    displayCurrentPage();\n  } else {\n    currentPage = totalPages;\n    displayCurrentPage();\n  }\n});\n"],"names":["$a05c08abba1959c4$var$inputEl","document","querySelector","addEventListener","e","$a05c08abba1959c4$var$value","target","value","trim","searchParamsToQuery","URLSearchParams","api_key","query","page","url","fetch","then","response","ok","Error","status","json","$a05c08abba1959c4$var$fetchFilms","concat","forMarcup","console","log","catch","er","$a05c08abba1959c4$var$paginationContainer","$a05c08abba1959c4$var$paginationButtons","querySelectorAll","$a05c08abba1959c4$var$previousButton","$a05c08abba1959c4$var$nextButton","$a05c08abba1959c4$var$endButton","$a05c08abba1959c4$var$nextDotsButton","$a05c08abba1959c4$var$currentPage","$a05c08abba1959c4$var$totalPages","length","$a05c08abba1959c4$var$displayCurrentPage","forEach","button","classList","remove","innerText","add","parseInt"],"version":3,"file":"index.d8a0f05c.js.map"}