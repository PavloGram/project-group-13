{"mappings":"qhBAAAA,EAAA,SCCA,IAAAC,EAAAD,EAAA,SACA,MAIME,EAAUC,SAASC,cAAc,kBACrBD,SAASC,cAAc,qBAEzCF,EAAQG,iBAAiB,SAMzB,SAAoBC,GAClBC,EAAQD,EAAEE,OAAOC,MAAMC,OAEvB,MAAMC,EAAsB,IAAIC,gBAAgB,CAC9CC,QAAS,mCACTC,MAAOP,EACPQ,KAAM,IAGRC,EADY,6CAAqBL,KAE9BM,MAAKC,IACJC,EAAeD,EAAUE,cACzBC,QAAQC,IAAIJ,IACZ,EAAAjB,EAAAsB,cAAaL,EAAU,IAExBM,OAAMC,IACLJ,QAAQC,IAAIG,EAAG,G,IApBrB,IAAIlB,EAAQ,GAERY,EAAe,EAwCnB,SAASH,EAAWU,GAClB,OAAOC,MAAMD,GAAKT,MAAKW,IACrB,IAAKA,EAASC,GACZ,MAAM,IAAIC,MAAMF,EAASG,QAE3B,OAAOH,EAASI,MAAM,G,CC1D1B,IAAAC,EAAAjC,EAAA,S,0BAQEkC,G,aAAS,IAAAC,SACTC,EAAQ,IAAAD,QAmBV,MAAME,EAAmB,IArBxB,MAQCC,oBACE,IACE,aAAaC,EAAAC,QAAMC,IAAI,GAACC,EAAAT,EAAA,CAAEU,KAAMT,iCAAqCQ,EAAAT,EAAA,CAAEU,KAAMP,K,CAC7E,MAAOQ,GACP,MAAM,IAAId,MAAMc,EAAIC,Q,EARxBC,cAHAJ,EAAAK,EAAA,CAAAJ,KAAAT,EAAS,C,kBAAG,kCACZQ,EAAAK,EAAA,CAAAJ,KAAAP,EAAQ,C,kBAAG,qCAGTO,KAAK5B,KAAO,C,GAgChBiC,OAAO3C,iBAAiB,QAdE,KAExBgC,EACCY,cACAhC,MAAK,EAACiC,KAACA,OAEV,EAAAjD,EAAAsB,cAAa2B,EAAK,IAGb1B,OAAMoB,IACPvB,QAAQC,IAAIsB,EAAI,GAChB,I","sources":["src/index.js","src/pagination.js","src/popular-movies.js"],"sourcesContent":["import './spinner.js';\nimport './fetchFilms.js';\nimport './pagination.js';\nimport './popular-movies.js';\nimport './modal-team.js'\n\n// import './js/render-markup.js';\n\n","// import { fetchFilms } from './fetchFilms.js';\nimport { renderMarkup } from './js/render-markup';\nconst BASE_URL_TRENDS = 'https://api.themoviedb.org/3/trending/all/day';\nconst BASE_URL_QUERY = 'https://api.themoviedb.org/3/search/movie';\nconst API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n\nconst inputEl = document.querySelector('.search__input');\nconst spinnerEl = document.querySelector('.preloader__image');\n\ninputEl.addEventListener('input', inputQuery);\n\nlet value = '';\n// в totalResults буде записана загальна кількість об’єктів які прийшли з бекенду щоб розрахувати кількість сторінок\nlet totalResults = 0;\n\nfunction inputQuery(e) {\n  value = e.target.value.trim();\n\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: 1,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n      totalResults = forMarcup.total_results;\n      console.log(forMarcup)\n      renderMarkup(forMarcup);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n// <----------функція яка викликається при натисканні на кнопки пагінації \n// в count має передаватися номер сторінки яка має бути завантажена і намальована------->\nfunction moreFilms(count){\n  const searchParamsToQuery = new URLSearchParams({\n    api_key: '1962278b5026dd7c7bb0a91cd47f798b',\n    query: value,\n    page: count,\n  });\n  const url = `${BASE_URL_QUERY}?${searchParamsToQuery}`;\n  fetchFilms(url)\n    .then(forMarcup => {\n    \n      // return console.log(totalResults);\n    })\n    .catch(er => {\n      console.log(er);\n    });\n}\n\nfunction fetchFilms(url) {\n  return fetch(url).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\n\n// <----------------->\n\n// const paginationContainer = document.querySelector('.pagination');\n// const paginationButtons =\n//   paginationContainer.querySelectorAll('.pagination-btn');\n// const previousButton = paginationContainer.querySelector('.previous-btn');\n// const nextButton = paginationContainer.querySelector('.next-btn');\n// const endButton = paginationContainer.querySelector('.end-btn');\n// const nextDotsButton = paginationContainer.querySelector('.next-dots');\n\n// let currentPage = 1;\n// const totalPages = paginationButtons.length - 2;\n\n// function displayCurrentPage() {\n//   paginationButtons.forEach(button => {\n//     button.classList.remove('active-pagination');\n//     if (button.innerText == currentPage) {\n//       button.classList.add('active-pagination');\n//     }\n//   });\n// }\n\n// paginationButtons.forEach(button => {\n//   button.addEventListener('click', () => {\n//     if (button.innerText != '...' && currentPage != button.innerText) {\n//       currentPage = parseInt(button.innerText);\n//       displayCurrentPage();\n//     }\n//   });\n// });\n\n// previousButton.addEventListener('click', () => {\n//   if (currentPage > 1) {\n//     currentPage--;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextButton.addEventListener('click', () => {\n//   if (currentPage < totalPages) {\n//     currentPage++;\n//     displayCurrentPage();\n//   }\n// });\n\n// endButton.addEventListener('click', () => {\n//   if (currentPage != totalPages) {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n\n// nextDotsButton.addEventListener('click', () => {\n//   if (currentPage < totalPages - 2) {\n//     currentPage += 3;\n//     displayCurrentPage();\n//   } else {\n//     currentPage = totalPages;\n//     displayCurrentPage();\n//   }\n// });\n","import axios from 'axios';\n// import { createCardsGallery } from './createCardGallery'; поміняти\n\n// const galleryEl = document.querySelector('.gallery'); замінити\nimport { renderMarkup } from './js/render-markup';\n\n\n class APIpopular {\n  #BASE_URL = 'https://api.themoviedb.org/3/';\n  #API_KEY = '1962278b5026dd7c7bb0a91cd47f798b';\n \n  constructor() {\n    this.page = 1;\n  }\n\n  async fetchMovies() {\n    try {\n      return await axios.get(`${this.#BASE_URL}trending/movie/week?api_key=${this.#API_KEY}`);\n    } catch (err) {\n      throw new Error(err.message);\n    }\n  }\n}\n\n\n\n\n\nconst ApipopularMovies = new APIpopular();\n\nconst handlerLoadWindow = () =>{\n\n  ApipopularMovies\n  .fetchMovies()\n  .then(({data})=>{\n// console.log(data)\nrenderMarkup(data);\n// поміняти \n// galleryEl.innerHTML = createCardsGallery(data.results);\n  }).catch(err => {\n    console.log(err)\n  })\n}\n\nwindow.addEventListener('load', handlerLoadWindow)"],"names":["parcelRequire","$5o68A","$a593388852b485da$var$inputEl","document","querySelector","addEventListener","e","$a593388852b485da$var$value","target","value","trim","searchParamsToQuery","URLSearchParams","api_key","query","page","$a593388852b485da$var$fetchFilms","then","forMarcup","$a593388852b485da$var$totalResults","total_results","console","log","renderMarkup","catch","er","url","fetch","response","ok","Error","status","json","$jkMrE","$cce67023f06ede6d$var$_BASE_URL","WeakMap","$cce67023f06ede6d$var$_API_KEY","$cce67023f06ede6d$var$ApipopularMovies","async","$2shzp","default","get","$parcel$interopDefault","this","err","message","constructor","$g6yUq","window","fetchMovies","data"],"version":3,"file":"index.db2d02d0.js.map"}